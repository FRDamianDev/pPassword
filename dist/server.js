!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t){var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};const n=function(){try{return JSON.parse(LoadResourceFile(GetCurrentResourceName(),"config.json"))}catch(e){console.log("[pPassword] Configuration file not loaded.")}}()||{serverPassword:"12345",serverName:"GTALife",serverWebsite:"https://www.gtaliferp.fr",serverLogo:"https://gtaliferp.fr/img/logo+hi.png",cardTitle:"Access denied. Please enter server's password",enterText:"Enter",passwordPlaceholder:"Password",wrongPasswordMessage:"This is not the right password."},o={type:"AdaptiveCard",body:[{type:"TextBlock",size:"Medium",weight:"Bolder",text:`${n.cardTitle}`},{type:"ColumnSet",columns:[{type:"Column",items:[{type:"Image",url:`${n.serverLogo}`,size:"Small"}],width:"auto"},{type:"Column",items:[{type:"TextBlock",weight:"Bolder",text:`${n.serverName}`,wrap:!0},{type:"TextBlock",spacing:"None",text:`${n.serverWebsite}`,isSubtle:!0,wrap:!0}],width:"stretch"}]},{type:"Input.Text",placeholder:`${n.passwordPlaceholder}`,inlineAction:{type:"Action.Submit",id:"",title:`${n.enterText}`},id:"password"}],version:"1.0",$schema:"http://adaptivecards.io/schemas/adaptive-card.json"},i=e=>new Promise(t=>setTimeout(t,e));onNet("playerConnecting",(e,t,s)=>r(this,void 0,void 0,(function*(){s.defer(),function e(t){return r(this,void 0,void 0,(function*(){t.presentCard(JSON.stringify(o),o=>r(this,void 0,void 0,(function*(){o.password&&o.password===n.serverPassword?t.done():(t.update(n.wrongPasswordMessage),yield i(2e3),e(t))})))}))}(s)})))}]);